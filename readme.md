### 设计原理

#### 迭代者模式 (Iterator Pattern)

迭代者模式用于提供一种方法顺序访问一个聚合对象中的各个元素，同时不暴露该对象的内部表示。在这个示例中，`ComponentIterator` 类提供了对复合数据结构的遍历能力，这使得外部代码可以统一地访问树中的每个节点。

#### 策略模式 (Strategy Pattern)

策略模式定义了一系列算法，并将每一个算法封装起来，使它们可以互换使用。策略模式让算法独立于使用它的客户端。在本例中，`DisplayStrategy` 是一个抽象基类，`TreeStrategy` 和 `RectangleStrategy` 是具体策略类，它们根据构造时传入的图标工厂决定如何显示节点。

### 代码执行流程

1. **数据加载与初始化**：
   - 从 JSON 文件加载数据。
   - 根据命令行参数选择图标和显示风格。
2. **组件构建**：
   - 使用 `build_composite` 方法递归地构建数据结构，转换 JSON 对象到一个 `Composite`/`Leaf` 结构。
3. **策略执行**：
   - 创建图标工厂并选择显示策略。
   - 迭代构建好的组件结构，使用选定的策略显示每个节点。

### 模式的应用

#### 迭代者的使用

- **类定义**：`ComponentIterator` 定义了迭代复合组件的方法。
- **遍历**：通过 `__next__` 方法，每次调用返回当前节点和它的配置信息（层级，是否为父节点的末节点，是否为顶层节点开始），直到遍历结束。

#### 策略的使用

- **策略选择**：根据用户提供的样式选择 `TreeStrategy` 或 `RectangleStrategy`。
- **动态行为更改**：在运行时根据不同策略展示不同风格的树状或矩形结构。



![微信图片_20240618130243](img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20240618130243.png)